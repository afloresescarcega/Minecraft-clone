FIND_PACKAGE(GLEW REQUIRED)
if (NOT GLEW_FOUND)
    message(FATAL_ERROR "GLEW not found!")
endif()
INCLUDE_DIRECTORIES(${GLEW_INCLUDE_DIRS})
if(TARGET GLEW::GLEW)
    set(GLEW_LIBRARIES GLEW::GLEW)
elseif(GLEW_LIBRARY)
    set(GLEW_LIBRARIES ${GLEW_LIBRARY})
elseif(NOT GLEW_LIBRARIES)
    message(FATAL_ERROR "GLEW library path not provided by find_package.")
endif()
LINK_LIBRARIES(${GLEW_LIBRARIES})

IF (WIN32)
	find_package(glfw3 CONFIG REQUIRED)
	LIST(APPEND stdgl_libraries glfw ${GLEW_LIBRARIES})
ELSE ()
    FIND_PACKAGE(PkgConfig REQUIRED)
    pkg_search_module(GLFW3 REQUIRED glfw3)
	if (NOT GLFW3_FOUND)
        message(FATAL_ERROR "GLFW3 not found!")
    endif()
	INCLUDE_DIRECTORIES(${GLFW3_INCLUDE_DIRS})
	LINK_DIRECTORIES(${GLFW3_LIBRARY_DIRS}) # Add this line
	LIST(APPEND stdgl_libraries ${GLFW3_LIBRARIES} ${GLEW_LIBRARIES})
ENDIF ()


message(STATUS "GLEW_LIBRARIES=${GLEW_LIBRARIES}")
message(STATUS "GLFW_LIBRARIES=${GLFW3_STATIC_LIBRARIES}")
